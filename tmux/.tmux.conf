# tmux configuration for dev_ns development environment
# This file is symlinked to ~/.config/tmux.conf
unbind r
bind r source-file ~/.tmux.conf

# Set prefix key to backtick
set-option -g prefix '`'
set-option -g prefix2 'C-b'  # Keep C-b as backup

# Window switching
bind-key 'i' next-window
bind-key 'j' select-window -t 1
bind-key 'k' select-window -t 2
bind-key 'l' select-window -t 3
bind-key ';' select-window -t 4

# Pane splitting
bind-key '-' split-window -h  # Horizontal split (side by side)

# Mouse support
set-option -g mouse on

# Allow Kitty graphics protocol passthrough (for image.nvim)
set -g allow-passthrough on

# Extended history
set-option -g history-limit 10000

# Terminal type
set-option -g default-terminal "screen-256color"

# Window and pane indexing (start from 1)
set-option -g base-index 1
set-window-option -g pane-base-index 1

# Renumber windows when one is closed
set-option -g renumber-windows on

set-option -g status-position top

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'Nybkox/tmux-ukiyo'

set -g default-terminal "tmux-256color"

# Configure ukiyo theme with powerline
set -g @ukiyo-theme "kanagawa/wave"
set -g @ukiyo-show-powerline true
set -g @ukiyo-plugins "cpu-usage battery time"
set -g @ukiyo-show-flags true
set -g @ukiyo-left-icon smiley

# Initialize TMUX plugin manager
run '~/.tmux/plugins/tpm/tpm'
